/* empty css                  */import{E as L,a as N,b as U,c as C}from"./el-col.603e12da.js";import"./el-tooltip.2dc03f92.js";import"./el-icon.b71b87e5.js";import{E as D}from"./el-divider.d895b557.js";import{P as R}from"./index.12afe42b.js";import{Y as V,r as _,Z as F,o as f,g,M as l,C as a,t as h,w as i,ca as A,aD as x,am as H,bR as O,V as v,f as T,a0 as Y,a1 as Z}from"./index.f88c3f7a.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./index.f59700c3.js";import"./index.562dcf9f.js";import"./el-input.3bf0fc1e.js";import"./index.1e5902a9.js";const q="/assets/record.f82a5110.png";const y=c=>(Y("data-v-fc8e3979"),c=c(),Z(),c),z={class:"pan-music-content"},G={class:"music-name-content"},J={class:"music-name"},K=y(()=>a("div",{class:"record-img-content"},[a("img",{class:"record-img",src:q})],-1)),Q={class:"music-content"},W=["src"],X={class:"music-list-content"},$=y(()=>a("i",{class:"fa fa-music"},null,-1)),ee={slot:"title"},se={__name:"index",setup(c){const m=V(),r=_(""),n=_([]),u=_(""),o=_("0"),E=e=>{n.value=new Array,e.forEach((s,t)=>{s.filename=s.filename.substring(0,s.filename.lastIndexOf(".")),s.filename.length>15&&(s.filename=s.filename.substring(0,16)+"..."),s.fileId===m.params.fileId&&(r.value=s.filename,u.value=v.getPreviewUrl(s.fileId)),n.value.push(s)}),o.value=m.params.fileId},w=()=>{let e="",s=o.value;if(n.value.some((d,p)=>{if(d.fileId===s)return e=p,!0}),e===n.value.length-1)return;let t=n.value[++e];r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),o.value=t.fileId},M=(e,s)=>{o.value=e,n.value.some(t=>{if(t.fileId===e)return r.value=t.filename,u.value=v.getPreviewUrl(t.fileId),!0})},P=()=>{document.getElementById("r_pan_music_player").addEventListener("ended",()=>{w()},!1)},S=()=>{A.list({parentId:m.params.parentId,fileTypes:"8"},e=>{e.code===0?(E(e.data),P()):x.error(e.message)},e=>{x.error(e.message)})};return F(()=>{S()}),(e,s)=>{const t=D,d=L,p=N,B=U,b=C;return f(),g("div",null,[l(R),a("div",z,[a("div",G,[a("p",J,"\u6B63\u5728\u64AD\u653E\u97F3\u4E50: "+h(r.value),1)]),l(t,{style:{margin:"5px 0"}}),l(b,null,{default:i(()=>[l(d,{span:18},{default:i(()=>[K,a("div",Q,[a("audio",{id:"r_pan_music_player",src:u.value,autoplay:"true",controls:"true"},null,8,W)])]),_:1}),l(d,{span:6},{default:i(()=>[a("div",X,[l(B,{class:"music-list","default-active":o.value,onSelect:M},{default:i(()=>[(f(!0),g(H,null,O(n.value,(I,k)=>(f(),T(p,{key:k,index:I.fileId},{default:i(()=>[$,a("span",ee,h(I.filename),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])]),_:1})]),_:1})])])}}},pe=j(se,[["__scopeId","data-v-fc8e3979"]]);export{pe as default};
